# ZK-SNARK Ceremony Coordination

## Overview

This is a multi-party trusted setup ceremony for the Demos Network ZK identity system. The ceremony uses a fork-and-pull-request workflow with sequential contribution enforcement.

## Security Model

**Toxic Waste = Intermediate Key + Secret Entropy**

- Intermediate keys in this repo are safe to be public
- Secret entropy is generated locally and never shared
- As long as ONE contributor is honest, the system is secure
- Each contributor must delete their local copy after contributing

## Participant Requirements

1. GitHub account
2. Node software repository cloned locally
3. `publickey_<address>` file in repository root (auto-generated by node)
4. Bun and dependencies installed

## Contribution Workflow

### Step 1: Register Interest

Comment on the coordination issue with:

- Your GitHub username
- Your public key address (from filename)
- Confirmation you understand the process

### Step 2: Wait for Your Turn

The maintainer will:

- Review the queue
- Notify you when it's your turn
- Provide any additional instructions

### Step 3: Setup Node Repository

```bash
# Make sure you're on the testnet branch of the node repository
cd /path/to/demos/node
git checkout testnet
git pull
```

If a warning appears during git pull or git checkout, execute

```
git stash
```

and repeat the failed command.

### Step 4: Execute the All in One Ceremony Script

```
scripts/ceremony-contribute.sh
```

The script will automatically proceed with the contribution.

#### Caveats

- The script will likely ask for your password: this is to install `gh` which is needed to automate the PR process
- The script will likely ask you to login with GitHub: you can keep the default answers (yes and Https). You will be required to use a browser (i.e. on your main pc) and input a code after logging in with GitHub. This is required to push your PR into the ceremony repository

### Step 5: Restart your node

If the automation script succeeded, you can run your node again using:

```
bun install
./run
```

## After Ceremony Completion

The maintainer will:

1. Run `bun run zk:ceremony finalize`
2. Export verification key
3. Upload keys to CDN
4. Commit final verification key to main node repository
5. Generate ceremony report
6. Keep ceremony repository public as audit trail

This repository will remain public permanently as proof of the ceremony process.

## Questions?

- Ask in coordination issue comments

---

**Remember:** As long as ONE contributor is honest and deleted their local copy, the final keys are cryptographically secure. Your participation helps decentralize trust!
